import{d as c,Q as I,i as T,o,e as a,a as e,F as k,h as $,t as x,b as _,u as A,g as P,f as g,j as y,v as h,c as S,w as L}from"./app-kLKZhNOt.js";import{S as B,_ as N}from"./AppLayout-DTv7tchY.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as M}from"./createLucideIcon-BvJzJLjp.js";/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=M("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=M("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),z={class:"min-h-screen bg-gray-100 py-8 px-4"},Q={class:"max-w-4xl mx-auto space-y-6"},G={class:"flex justify-between items-center mb-6"},H={class:"bg-white shadow-lg rounded-lg overflow-hidden divide-y capitalize"},J={class:"p-4 bg-gray-200 flex justify-between items-center"},K={class:"text-xl font-semibold text-gray-800"},O=["onClick"],R={class:"divide-y"},W={class:"text-gray-700 font-medium"},X={class:"flex items-center gap-3"},Y={class:"px-3 py-1 bg-gray-200 rounded-full text-gray-800 font-medium"},Z=["onClick"],ee={class:"flex justify-end mt-4"},te={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},oe={class:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full"},se={key:0,class:"text-xl font-bold mb-4"},ae={key:1,class:"text-xl font-bold mb-4"},le={key:2},ne={key:3},re={__name:"Almacen",setup(j){const b=c(I().props.categorias);console.log(b.value);const l=c({}),w=()=>{b.value.forEach(d=>{l.value[d.tipo]=d.productos||{}})};w();const r=c(null),i=c(""),n=c({name:"",quantity:0});let u=null;const m=(d,t=null)=>{r.value=d,u=t},v=()=>{r.value=null,i.value="",n.value={name:"",quantity:0}},V=()=>{i.value.trim()!==""&&(l.value[i.value]||(l.value[i.value]={},v()))},q=()=>{n.value.name.trim()!==""&&n.value.quantity>0&&u&&(l.value[u]||(l.value[u]={}),l.value[u][n.value.name]=n.value.quantity,v())},E=d=>{B.fire({title:"¿Estás seguro?",text:"¡No podrás revertir esto!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar!"}).then(t=>{t.isConfirmed&&(delete l.value[d],B.fire("Eliminado!","La categoría ha sido eliminada.","success"))})};return T(b,w,{deep:!0}),(d,t)=>(o(),a("div",z,[e("div",Q,[t[8]||(t[8]=e("div",{class:"flex justify-between items-center mb-6"},[e("h1",{class:"text-4xl font-bold text-gray-900"},"Almacén")],-1)),e("div",G,[e("button",{onClick:t[0]||(t[0]=s=>m("addProduct")),class:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow transition"}," Ingresar productos "),e("button",{onClick:t[1]||(t[1]=s=>m("assignProduct")),class:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow transition"}," Asignar productos ")]),e("div",H,[(o(!0),a(k,null,$(l.value,(s,p)=>(o(),a("div",{key:p,class:"border-b last:border-b-0"},[e("div",J,[e("h2",K,x(p),1),e("button",{onClick:f=>E(p),class:"text-red-600 hover:text-red-700 font-medium flex items-center gap-2 transition"},[_(A(D),{class:"h-5 w-5"}),t[6]||(t[6]=P(" Eliminar categoría "))],8,O)]),e("div",R,[(o(!0),a(k,null,$(s,(f,C)=>(o(),a("div",{key:C,class:"flex items-center justify-between p-4 hover:bg-gray-50 transition"},[e("span",W,x(C),1),e("div",X,[e("span",Y,x(f),1)])]))),128)),e("button",{onClick:f=>m("addProduct",p),class:"flex w-full p-4 text-left text-blue-600 hover:bg-gray-50 transition items-center gap-2"},[_(A(F),{class:"h-5 w-5"}),t[7]||(t[7]=P(" Agregar producto "))],8,Z)])]))),128))]),e("div",ee,[e("button",{onClick:t[2]||(t[2]=s=>m("addCategory")),class:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg shadow transition"}," Agregar categoría ")])]),r.value?(o(),a("div",te,[e("div",oe,[r.value==="addCategory"?(o(),a("h2",se,"Agregar categoría")):g("",!0),r.value==="addProduct"?(o(),a("h2",ae,"Agregar producto")):g("",!0),r.value==="addCategory"?(o(),a("div",le,[y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value=s),type:"text",placeholder:"Nombre de la categoría",class:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4 focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,i.value]]),e("button",{onClick:V,class:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg w-full transition"}," Agregar ")])):g("",!0),r.value==="addProduct"?(o(),a("div",ne,[y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.name=s),type:"text",placeholder:"Nombre del producto",class:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4 focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,n.value.name]]),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.quantity=s),type:"number",placeholder:"Cantidad",class:"w-full border border-gray-300 rounded-lg px-4 py-2 mb-4 focus:ring-blue-500 focus:border-blue-500"},null,512),[[h,n.value.quantity,void 0,{number:!0}]]),e("button",{onClick:q,class:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg w-full transition"}," Agregar ")])):g("",!0),e("button",{onClick:v,class:"text-gray-500 hover:text-gray-600 mt-4 block mx-auto"}," Cancelar ")])])):g("",!0)]))}},de=U(re,[["__scopeId","data-v-e4a43b44"]]),ie={class:"py-6 px-2"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-10"},ce={class:"bg-white overflow-hidden shadow-xl rounded-lg"},ge={class:"overflow-hidden"},fe={__name:"index",setup(j){return(b,l)=>(o(),S(N,{title:"Tablero principal"},{default:L(()=>[e("div",ie,[e("div",ue,[e("div",ce,[e("div",ge,[_(de)])])])])]),_:1}))}};export{fe as default};
